<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>360&deg; Image In WebXR</title>
    <meta name="description" content="Upload and show 360 image with WebXR support">
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
  </head>
  <body>
    <div id="kontsa">
      Upload file: <input type="file" id="file_upload" accept="image/*">
    </div>
    
    <script>
      const fileInput = document.querySelector("#file_upload");
      fileInput.addEventListener("change", (event) => {
        const reader = new FileReader();
        reader.addEventListener("load", () => {
          const uploadedFile = reader.result;
          const scene = document.createElement('a-scene');
          scene.setAttribute("vr-mode-ui", true);
          scene.setAttribute("device-orientation-permission-ui", true);
          const sky = document.createElement('a-sky');
          scene.appendChild(sky);
          sky.setAttribute('src', uploadedFile);
          sky.setAttribute('rotation', "0 0 0");
          document.querySelector("#kontsa").appendChild(scene);
        });
        reader.readAsDataURL(fileInput.files[0]);
      });
    </script>
  </body>
</html>
