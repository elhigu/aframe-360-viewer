<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>360&deg; Image In WebXR</title>
    <meta name="description" content="Upload and show 360 image with WebXR support">
    <script src="https://aframe.io/releases/1.4.1/aframe.min.js"></script>
  </head>
  <body id="kontsa">
    <style>
      a-scene {
        height: 300px;
        width: 600px;
      }
    </style>
    Upload file: <input type="file" id="file_upload" accept="image/*">
    <div id="kontsa">
    </div>
    <script>
      const fileInput = document.querySelector("#file_upload");
      fileInput.addEventListener("change", (event) => {
        const reader = new FileReader();
        reader.addEventListener("load", () => {
          const uploadedFile = reader.result;
          const scene = document.createElement('a-scene');
          scene.setAttribute("embedded", true);
          const sky = document.createElement('a-sky');
          scene.appendChild(sky);
          sky.setAttribute('src', uploadedFile);
          sky.setAttribute('rotation', "0 0 0");
          document.querySelector("#kontsa").appendChild(scene);
        });
        reader.readAsDataURL(fileInput.files[0]);
      });
    </script>
  </body>
</html>
